---
title: '反向代理后端项目并配置跨域'
date: 2023-03-06 15:47:44
copyright_info: The copyright of this article is owned by Zhang Yuhan, and it follows the CC BY-NC-SA 4.0 agreement. For reprinting, please attach the original source link and this statement
categories: 
  - 'Ops'
  - 'nginx'
tags: 
  - 'Ops'
  - 'nginx'
  - '反向代理后端项目并配置跨域'
---
后台服务占用端口为9003，用本地的9004代理9003并且配置跨域
```conf
    server{
        listen 9004; ## nginx监听端口号
        location / {
                proxy_pass http://127.0.0.1:9003;
                # 允许 所有头部 所有域 所有方法
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Headers' '*';
                add_header 'Access-Control-Allow-Methods' '*';
                # OPTIONS 直接返回204
                if ($request_method = 'OPTIONS') {
                    return 204;
                }
        }
    }
```
